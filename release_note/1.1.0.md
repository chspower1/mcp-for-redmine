# Release Notes v1.1.0

## üêõ Bug Fixes

### Fixed: MCP Client Compatibility Issue with Union Type Parameters

**Problem:**  
Several API tools were failing with the error:

```
Parameter 'project_id' must be of type string,number, got number
```

This occurred because the MCP client (Cursor) could not properly handle JSON Schema's array type format `"type": ["string", "number"]` generated from Zod's `z.union([z.string(), z.number()])`.

**Root Cause:**  
When `zodToJsonSchema` converts `z.union([z.string(), z.number()])`, it produces:

```json
{
  "type": ["string", "number"]
}
```

The MCP client incorrectly interpreted this array as the literal string `"string,number"` instead of accepting both types.

**Solution:**  
Replaced all `z.union([z.string(), z.number()])` schemas with `z.coerce.string()`, which:

- Generates `"type": "string"` in JSON Schema (client-compatible)
- Automatically converts numeric inputs to strings on the server side
- Maintains backward compatibility (e.g., `1` ‚Üí `"1"`)

## üìÅ Modified Files

| File                                  | Changes                                                                    |
| ------------------------------------- | -------------------------------------------------------------------------- |
| `src/schema/project.schema.ts`        | GetProject, UpdateProject, ArchiveProject, UnarchiveProject, DeleteProject |
| `src/schema/version.schema.ts`        | ListVersions, GetVersion, CreateVersion                                    |
| `src/schema/wiki-page.schema.ts`      | ListWikiPages, GetWikiPage, CreateOrUpdateWikiPage, DeleteWikiPage         |
| `src/schema/group.schema.ts`          | GetGroup, UpdateGroup, DeleteGroup, AddUserToGroup, RemoveUserFromGroup    |
| `src/schema/membership.schema.ts`     | ListProjectMemberships, CreateProjectMembership                            |
| `src/schema/time-entry.schema.ts`     | ListTimeEntries, TimeEntryRequestObject                                    |
| `src/schema/issue.schema.ts`          | ListIssues, CreateIssue, CreateIssueRequestObject                          |
| `src/schema/issue-category.schema.ts` | ListIssueCategories, CreateIssueCategory                                   |
| `src/schema/file.schema.ts`           | ListFiles                                                                  |

## ‚úÖ Affected APIs (Now Working)

- `projects_get`
- `projects_update`
- `projects_archive`
- `projects_unarchive`
- `projects_delete`
- `versions_list`
- `versions_get`
- `versions_create`
- `wiki_pages_list`
- `wiki_pages_get`
- `wiki_pages_create_or_update`
- `wiki_pages_delete`
- `groups_get`
- `groups_update`
- `groups_delete`
- `groups_add_user`
- `groups_remove_user`
- `memberships_list_project_memberships`
- `memberships_create`
- `time_entries_list`
- `time_entries_create`
- `issues_list`
- `issues_create`
- `issue_categories_list`
- `issue_categories_create`
- `files_list`

## üîß Technical Details

**Before:**

```typescript
project_id: z.union([z.string(), z.number()]);
// JSON Schema: {"type": ["string", "number"]}
```

**After:**

```typescript
project_id: z.coerce.string();
// JSON Schema: {"type": "string"}
```

The `z.coerce.string()` transformer ensures that:

- String inputs pass through unchanged
- Numeric inputs are converted to strings (e.g., `123` ‚Üí `"123"`)
- The Redmine API receives valid string parameters for URL path construction
